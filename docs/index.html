<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A set of useful tools for machine learning consulting using R â€¢ datools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="A set of useful tools for machine learning consulting using R">
<meta property="og:description" content="A set of useful tools for machine learning consulting and other data science oriented solutions using R.">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">datools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/NegativeBinomialApplications.html">Negative Binomial Applications</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/DoktorMike/datools">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="datools" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#datools" class="anchor"></a>datools <img src="reference/figures/logo.png" align="right">
</h1></div>
<p>The goal of datools is to cover a lot of convenient tools useful for machine learning consulting using R</p>
</div>
<div id="build-status" class="section level1">
<h1 class="hasAnchor">
<a href="#build-status" class="anchor"></a>Build status</h1>
<p><a href="https://travis-ci.org/DoktorMike/datools"><img src="https://travis-ci.org/DoktorMike/datools.svg?branch=master" alt="Build Status"></a> <a href="https://codecov.io/github/DoktorMike/datools?branch=master"><img src="https://img.shields.io/codecov/c/github/DoktorMike/datools/master.svg" alt="Coverage Status"></a> <a href="https://app.wercker.com/project/byKey/82dcdeafb5fae145580366ca3f95fc6d"><img src="https://app.wercker.com/status/82dcdeafb5fae145580366ca3f95fc6d/s/master" title="wercker status" alt="wercker status"></a> <a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="lifecycle"></a> <a href="https://doktormike.github.io/datools"><img src="https://img.shields.io/badge/docs-latest-blue.svg" alt="docs"></a></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install datools from github with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># install.packages("devtools")</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"DoktorMike/datools"</span>)</span></code></pre></div>
<p>Optionally you can also install the Rgraphviz package which is required for the graph learning visualization.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="cf">if</span> (<span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/ns-load">requireNamespace</a></span>(<span class="st">"BiocManager"</span>, <span class="dt">quietly =</span> <span class="ot">TRUE</span>))</span>
<span id="cb2-2"><a href="#cb2-2"></a>    <span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"BiocManager"</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a>BiocManager<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/BiocManager/topics/install">install</a></span>(<span class="st">"Rgraphviz"</span>)</span></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>Say you have a vector of weekdays and you would really like to have that one hot encoded for use in your algorithms then oneHotEncoder comes to the rescue!</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co">## basic example code</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(datools)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(lubridate)</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">#&gt; </span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#&gt; Attaching package: 'lubridate'</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#&gt; The following object is masked from 'package:base':</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">#&gt; </span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co">#&gt;     date</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="kw"><a href="reference/oneHotEncoder.html">oneHotEncoder</a></span>(<span class="dt">x=</span><span class="kw"><a href="http://lubridate.tidyverse.org/reference/day.html">wday</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq">seq</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.Date">as.Date</a></span>(<span class="st">"2017-10-07"</span>), <span class="dt">by =</span><span class="st">"days"</span>, <span class="dt">length.out =</span> <span class="dv">10</span>), </span>
<span id="cb3-10"><a href="#cb3-10"></a>                     <span class="dt">label =</span> <span class="ot">TRUE</span>))</span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">#&gt;    Data Sun Mon Tue Wed Thu Fri Sat</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">#&gt; 1   Sat   0   0   0   0   0   0   1</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="co">#&gt; 2   Sun   1   0   0   0   0   0   0</span></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="co">#&gt; 3   Mon   0   1   0   0   0   0   0</span></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="co">#&gt; 4   Tue   0   0   1   0   0   0   0</span></span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="co">#&gt; 5   Wed   0   0   0   1   0   0   0</span></span>
<span id="cb3-17"><a href="#cb3-17"></a><span class="co">#&gt; 6   Thu   0   0   0   0   1   0   0</span></span>
<span id="cb3-18"><a href="#cb3-18"></a><span class="co">#&gt; 7   Fri   0   0   0   0   0   1   0</span></span>
<span id="cb3-19"><a href="#cb3-19"></a><span class="co">#&gt; 8   Sat   0   0   0   0   0   0   1</span></span>
<span id="cb3-20"><a href="#cb3-20"></a><span class="co">#&gt; 9   Sun   1   0   0   0   0   0   0</span></span>
<span id="cb3-21"><a href="#cb3-21"></a><span class="co">#&gt; 10  Mon   0   1   0   0   0   0   0</span></span></code></pre></div>
</div>
<div id="pca-fun" class="section level2">
<h2 class="hasAnchor">
<a href="#pca-fun" class="anchor"></a>PCA fun</h2>
<p>If you ever need to illustrate for your peers what sort of direction your original data is pointing to in the PCA space this function comes very much in handy.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(datools)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(iris)</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="kw"><a href="reference/plotPCAComponent.html">plotPCAComponent</a></span>(iris[,<span class="op">-</span><span class="dv">5</span>], iris<span class="op">$</span>Species) <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>()</span></code></pre></div>
<p><img src="reference/figures/pcaplot-1.png" width="960"></p>
</div>
<div id="indices" class="section level2">
<h2 class="hasAnchor">
<a href="#indices" class="anchor"></a>Indices</h2>
<p>Splitting up a data.frame or a tibble into N buckets of size K is sometimes a hassle. The rangeToBuckets come to the rescue! In this example weâ€™ll split up the mtcars dataset and perform a simple regression on each subset of the data and show the results.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(datools)</span>
<span id="cb5-2"><a href="#cb5-2"></a>indsList &lt;-<span class="st"> </span><span class="kw"><a href="reference/rangeToBuckets.html">rangeToBuckets</a></span>(<span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(mtcars), <span class="dv">10</span>)</span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">sapply</a></span>(indsList, <span class="cf">function</span>(x) <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/coef">coef</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/lm">lm</a></span>(mpg<span class="op">~</span>disp, <span class="dt">data=</span>mtcars[x,])))</span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#&gt;                    [,1]        [,2]        [,3]        [,4]</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#&gt; (Intercept) 25.56380288 33.09625946 29.13295921 25.70222222</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">#&gt; disp        -0.02489719 -0.05094025 -0.03830431 -0.03555556</span></span></code></pre></div>
<p>Of course we can make this nices by running more splits and making all of it in one go</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(datools)</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)</span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">sapply</a></span>(<span class="kw"><a href="reference/rangeToBuckets.html">rangeToBuckets</a></span>(<span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(mtcars), <span class="dv">4</span>), </span>
<span id="cb6-4"><a href="#cb6-4"></a>       <span class="cf">function</span>(x) <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/coef">coef</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/lm">lm</a></span>(mpg<span class="op">~</span>disp, <span class="dt">data=</span>mtcars[x,]))) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/t">t</a></span>() <span class="op">%&gt;%</span><span class="st"> </span>knitr<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>()</span></code></pre></div>
<table class="table table">
<thead><tr class="header">
<th align="right">(Intercept)</th>
<th align="right">disp</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">22.71042</td>
<td align="right">-0.0067663</td>
</tr>
<tr class="even">
<td align="right">27.65159</td>
<td align="right">-0.0321575</td>
</tr>
<tr class="odd">
<td align="right">25.80828</td>
<td align="right">-0.0359579</td>
</tr>
<tr class="even">
<td align="right">24.71015</td>
<td align="right">-0.0306960</td>
</tr>
<tr class="odd">
<td align="right">35.85532</td>
<td align="right">-0.0481161</td>
</tr>
<tr class="even">
<td align="right">25.64273</td>
<td align="right">-0.0339446</td>
</tr>
<tr class="odd">
<td align="right">30.76149</td>
<td align="right">-0.0290120</td>
</tr>
<tr class="even">
<td align="right">23.85850</td>
<td align="right">-0.0256362</td>
</tr>
</tbody>
</table>
</div>
<div id="discovering-relationships-in-your-dataset" class="section level2">
<h2 class="hasAnchor">
<a href="#discovering-relationships-in-your-dataset" class="anchor"></a>Discovering relationships in your dataset</h2>
<p>Here weâ€™ll look at some ways to detect dependencies and hierarchies between your variables in a given dataset. As per usual weâ€™ll use a simple dataset that is available in R. The <code>mtcars</code> tadaaa! Letâ€™s pretend you were given this dataset and have no clue how to best go about things and you feel like exploring. So letâ€™s start by looking at the data.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(mtcars)</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">sapply</a></span>(mtcars, summary) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/t">t</a></span>()</span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">#&gt;        Min.   1st Qu.  Median       Mean 3rd Qu.    Max.</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="co">#&gt; mpg  10.400  15.42500  19.200  20.090625   22.80  33.900</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co">#&gt; cyl   4.000   4.00000   6.000   6.187500    8.00   8.000</span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">#&gt; disp 71.100 120.82500 196.300 230.721875  326.00 472.000</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">#&gt; hp   52.000  96.50000 123.000 146.687500  180.00 335.000</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="co">#&gt; drat  2.760   3.08000   3.695   3.596563    3.92   4.930</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">#&gt; wt    1.513   2.58125   3.325   3.217250    3.61   5.424</span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co">#&gt; qsec 14.500  16.89250  17.710  17.848750   18.90  22.900</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="co">#&gt; vs    0.000   0.00000   0.000   0.437500    1.00   1.000</span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="co">#&gt; am    0.000   0.00000   0.000   0.406250    1.00   1.000</span></span>
<span id="cb7-13"><a href="#cb7-13"></a><span class="co">#&gt; gear  3.000   3.00000   4.000   3.687500    4.00   5.000</span></span>
<span id="cb7-14"><a href="#cb7-14"></a><span class="co">#&gt; carb  1.000   2.00000   2.000   2.812500    4.00   8.000</span></span></code></pre></div>
<p>So far so good. Now how do these guys relate to each other? Well we could go about this by fitting every single linear model we could given all variables. That still wouldnâ€™t give us the hierarchy between all variables though. So can we do better? Why yes, yes we can.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(datools)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(Rgraphviz)</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(bnlearn)</span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(mtcars)</span>
<span id="cb8-5"><a href="#cb8-5"></a>myfit&lt;-<span class="kw"><a href="reference/discover_hierarchy_and_fit.html">discover_hierarchy_and_fit</a></span>(mtcars)</span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/bnlearn/topics/graphviz.plot">graphviz.plot</a></span>(myfit)</span></code></pre></div>
<p><img src="reference/figures/fitmodel-1.png" width="700"></p>
<p>So from this graph we can see that <code>qsec</code> is actually the last node in the hierarchy. Regression wise this node is affected by a lot of other variables but does not affect them in return. Notice here that weâ€™re only measuring correlation and graph factorization here. This is not a proper causality claim, but it might be indicative of it.</p>
<p>We could have a look at a textual representation of this graph as well if weâ€™re not into visualizations.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/bnlearn/topics/mb">arcs</a></span>(myfit)</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co">#&gt;       from   to    </span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co">#&gt;  [1,] "mpg"  "carb"</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">#&gt;  [2,] "cyl"  "mpg" </span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co">#&gt;  [3,] "cyl"  "disp"</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="co">#&gt;  [4,] "cyl"  "drat"</span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co">#&gt;  [5,] "cyl"  "vs"  </span></span>
<span id="cb9-8"><a href="#cb9-8"></a><span class="co">#&gt;  [6,] "cyl"  "carb"</span></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co">#&gt;  [7,] "disp" "hp"  </span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">#&gt;  [8,] "disp" "wt"  </span></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co">#&gt;  [9,] "hp"   "qsec"</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="co">#&gt; [10,] "wt"   "mpg" </span></span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="co">#&gt; [11,] "wt"   "hp"  </span></span>
<span id="cb9-14"><a href="#cb9-14"></a><span class="co">#&gt; [12,] "wt"   "qsec"</span></span>
<span id="cb9-15"><a href="#cb9-15"></a><span class="co">#&gt; [13,] "wt"   "am"  </span></span>
<span id="cb9-16"><a href="#cb9-16"></a><span class="co">#&gt; [14,] "vs"   "qsec"</span></span>
<span id="cb9-17"><a href="#cb9-17"></a><span class="co">#&gt; [15,] "am"   "drat"</span></span>
<span id="cb9-18"><a href="#cb9-18"></a><span class="co">#&gt; [16,] "am"   "vs"  </span></span>
<span id="cb9-19"><a href="#cb9-19"></a><span class="co">#&gt; [17,] "am"   "gear"</span></span>
<span id="cb9-20"><a href="#cb9-20"></a><span class="co">#&gt; [18,] "gear" "carb"</span></span>
<span id="cb9-21"><a href="#cb9-21"></a><span class="co">#&gt; [19,] "carb" "hp"</span></span></code></pre></div>
<p>Say now that we want to know from this fit which variables <code>carb</code> is affected by and by how much. In this case we simply look at</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>myfit<span class="op">$</span>carb<span class="op">$</span>coefficients</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co">#&gt; (Intercept)         mpg         cyl        gear </span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="co">#&gt;  -2.7816679  -0.1439035   0.3959199   1.6367526</span></span></code></pre></div>
<p>This can also be confirmed by running</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/coef">coef</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/lm">lm</a></span>(carb<span class="op">~</span>mpg<span class="op">+</span>cyl<span class="op">+</span>gear, <span class="dt">data=</span>mtcars))</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co">#&gt; (Intercept)         mpg         cyl        gear </span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co">#&gt;  -2.7816679  -0.1439035   0.3959199   1.6367526</span></span></code></pre></div>
<p>in which you can see that the edges between each node is fitted with a maximum likelihood estimation. This is not the model you would have gotten even if you decided to model <code>carb</code> in a flat structure as evident from:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/coef">coef</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/lm">lm</a></span>(carb<span class="op">~</span>., <span class="dt">data=</span>mtcars))</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="co">#&gt; (Intercept)         mpg         cyl        disp          hp        drat </span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co">#&gt; -2.46807501 -0.01378803  0.28536857 -0.01431005  0.01349808  0.41696616 </span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">#&gt;          wt        qsec          vs          am        gear </span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co">#&gt;  1.53320915 -0.22493808 -0.23036244 -0.11878278  0.77153891</span></span></code></pre></div>
<p>You can also get more information about a particular part of the graph by looking at the local model inside the graph.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>myfit<span class="op">$</span>qsec</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="co">#&gt; </span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="co">#&gt;   Parameters of node qsec (Gaussian distribution)</span></span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="co">#&gt; </span></span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="co">#&gt; Conditional density: qsec | hp + wt + vs</span></span>
<span id="cb13-6"><a href="#cb13-6"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="co">#&gt; (Intercept)           hp           wt           vs  </span></span>
<span id="cb13-8"><a href="#cb13-8"></a><span class="co">#&gt; 16.02638440  -0.01767224   1.08994453   2.07551571  </span></span>
<span id="cb13-9"><a href="#cb13-9"></a><span class="co">#&gt; Standard deviation of the residuals: 0.8156723</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/DoktorMike/datools">https://â€‹github.com/â€‹DoktorMike/â€‹datools</a>
</li>
<li>Report a bug at <br><a href="https://github.com/DoktorMike/datools/issues">https://â€‹github.com/â€‹DoktorMike/â€‹datools/â€‹issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Michael Green <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-1507-1613" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
</ul>
</div>

      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Michael Green.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
